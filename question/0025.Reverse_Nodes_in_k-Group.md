---
tags:
  - must-know
---

## Question

Example:

> **Input:** `head = [1,2,3,4,5]`, `k = 2` > **Output:** `[2,1,4,3,5]`

Not alter the values in the list's node, only the nodes links may be changed.
The task is to reversed every group of `k` nodes.

- if the number of remaining nodes is less than `k`, leave them as they are.

## Method - Linked list

### Approach - Reverse LL

    1, Find kth
    2, Reverse k part (reverse range: [group_prev.next ->...-> kth])
    3, Linked group back to linked list

### Complexity

- Time C: O(n)
- Space C: O(1)

### Code

```python
# Definition for singly-linked list.
# class ListNode:
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next
class Solution:
    def reverseKGroup(self, head: Optional[ListNode], k: int) -> Optional[ListNode]:

        dummy = ListNode(0, head)
        group_prev = dummy

        while True:
            kth = self.getkth(group_prev, k)
            if not kth:
                return dummy.next

            group_next = kth.next

            # reverse range: [group_prev.next ->...-> kth] # 1 -> 2
            prev = group_next           # 3
            curr = group_prev.next      # 1
            while curr != group_next:   # 1 != 3
                nxt = curr.next
                curr.next = prev
                prev = curr
                curr = nxt              # 2 -> 1 -> 3

            old_head = group_prev.next  # 1
            group_prev.next = kth       # 2
            group_prev = old_head       # 3

    def getkth(self, node, k):
        for _ in range(k):
            node = node.next
            if not node:
                return None
        return node


```

Hint:
- `prev = group_next` -> the node that the current node should point to **after reversal**.
- `curr = group_prev.next` -> start the reversal from the **head of this group**.

```python
prev = None
curr = head
while curr:
    nxt = curr.next
    curr.next = prev
    prev = curr
    curr = nxt

```