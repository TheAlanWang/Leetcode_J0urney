# 0090.Subsets_II
### Example 1:<br>
> Input: nums = `[1,2,2]` <br>
> Output: `[[],[1],[1,2],[1,2,2],[2],[2,2]]` <br>

### Approach: Backtracking

#### State: (start, path)
- start - control where the loop begin
- path - the current recursion depth

Base Case: start == len(nums)
Choice:  for i in [start, end], skip duplicate

#### Complexity:
- TC: O(N * 2^N) | SC: O(N)
  - n: every subset is a list of size up to n
  - $2^n$: each element can either be included or not included

```python
from typing import List

class Solution:
    def subsetsWithDup(self, nums: List[int]) -> List[List[int]]:

        res = []
        nums.sort()                                  # duplicate numbers are adjacent
        self.backtrack(0, [], nums, res)             # (start from 0, path, nums, res)
        return res

    def backtrack(self, start, path, nums, res):
        res.append(path[:])
        if start == len(nums):
            return        
        for i in range(start, len(nums)):            # i is decision point
            if i > start and nums[i] == nums[i-1]:   # only include the first occureence
                continue
            path.append(nums[i])
            self.backtrack(i + 1, path, nums, res) 
            path.pop()
```

```
dry run [1,2,2]
                            []
        ┌───────────────────┼───────────────────┐
        │                   │                   │
      pick 1              pick 2            skip (dup 2)     start = 0
        │                   │
       [1]                 [2]
        │                   │
   ┌────┴────┐              │
   │         │              │
pick 2   skip (dup 2)     pick 2                             start = 1
   │                        │
 [1,2]                    [2,2]
   │
   │
 pick 2                                                      start = 2
   │
 [1,2,2]

```